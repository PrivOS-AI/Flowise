import { IList, IStage, IRoom, IFieldDefinition } from './interface';

/**
 * Privos External API - List Management Endpoints
 *
 * Base URL: https://privos-chat-dev.roxane.one/api/v1
 *
 * This module defines the List Management endpoints for the Privos external API.
 * Lists are customizable containers that organize items into stages with support for custom fields.
 *
 * ## Endpoints Overview (/v1/external.lists.*)
 *
 * ### List Operations
 * - GET/PUT/DELETE /:listId - Retrieve, update, or delete a specific list
 *   GET Returns: list details, stages, and item count
 *   PUT Parameters: name?, description?
 *   DELETE Returns: confirmation message
 *
 * ### List Retrieval
 * - GET /byTemplateKey - Fetch lists by workflow template key
 *   Parameters: roomId, templateKey
 *   Returns: lists with stage and item counts
 *
 * - GET /byTemplateListKey - Fetch specific list by template list key
 *   Parameters: roomId, templateListKey
 *   Returns: list details, stages, and item count
 *
 * - GET /byRoomId - Fetch all lists in a room with pagination
 *   Parameters: roomId, offset?, count?
 *   Returns: paginated list array with counts
 *
 * ### List Creation
 * - POST /create - Create a new list with optional stages and fields
 *   Parameters: name, roomId, description?, fieldDefinitions?, stages?
 *   Returns: created list's basic info
 *
 * ### Field Management (/fields/:listId)
 * - GET - Retrieve all field definitions for a list
 *   Returns: array of field definitions
 *
 * - POST - Add a new field definition to a list
 *   Parameters: field definition object
 *   Returns: confirmation and field ID
 *
 * - PUT - Update all field definitions for a list
 *   Parameters: fieldDefinitions array
 *   Returns: confirmation message
 *
 * ## Custom Fields
 * Lists support various field types:
 * - TEXT - Single line text
 * - TEXTAREA - Multi-line text
 * - NUMBER - Numeric values
 * - DATE - Date picker
 * - SELECT - Single selection dropdown
 * - MULTI_SELECT - Multiple selection
 * - USER - User selector
 * - CHECKBOX - Boolean toggle
 * - URL - Web link
 * - FILE - File attachment
 *
 * ## List Structure
 * - Each list belongs to a room (workspace)
 * - Lists contain multiple stages for workflow organization
 * - Items within lists can have custom field values
 * - Lists can be created from templates for consistency
 */
interface LISTS_ENDPOINTS {
	'/v1/external.lists/:listId': {
		GET: () => {
			list: IList;
			stages: IStage[];
			itemCount: number;
		};
		PUT: (params: { listId: IList['_id']; name?: string; description?: string }) => {
			message?: string;
			listId?: IList['_id'];
		};
		DELETE: () => {
			message?: string;
		};
	};
	'/v1/external.lists.byTemplateKey': {
		GET: (params: { roomId: IRoom['_id']; templateKey: string }) => {
			lists: (IList & { stageCount: number; itemCount: number })[];
		};
	};
	'/v1/external.lists.byTemplateListKey': {
		GET: (params: { roomId: IRoom['_id']; templateListKey: string }) => {
			list: IList & { stageCount: number; itemCount: number };
			stages: IStage[];
			itemCount: number;
		};
	};
	'/v1/external.lists.byRoomId': {
		GET: (params: { roomId: IRoom['_id']; offset?: number; count?: number }) => {
			lists: (Pick<IList, '_id' | 'name' | 'description' | 'createdAt'> & { stageCount: number; itemCount: number })[];
			count: number;
			offset: number;
			total: number;
		};
	};
	'/v1/external.lists.create': {
		POST: (params: {
			name: string;
			roomId: IRoom['_id'];
			description?: string;
			fieldDefinitions?: IFieldDefinition[];
			stages?: Array<{
				name: string;
				color?: string;
				order?: number;
			}>;
		}) => {
			list: Pick<IList, '_id' | 'name' | 'roomId'>;
		};
	};
	'/v1/external.lists.fields/:listId': {
		GET: () => {
			fieldDefinitions: IFieldDefinition[];
		};
		POST: (params: { field: IFieldDefinition }) => {
			message: string;
			fieldId: string;
		};
		PUT: (params: { fieldDefinitions: IFieldDefinition[] }) => {
			message: string;
		};
	};
}
